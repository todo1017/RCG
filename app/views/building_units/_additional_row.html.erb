<% additional_row_data_temp = additional_row_data - [nil] %>
<% if !additional_row_data_temp.empty? %>
    <tr>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <td style="border-right-width: 0;">&nbsp;</td>
      <% additional_row_data.each do |comp| %>
          <% if comp == nil %>
              <% if details == "yes" %>
                  <td colspan="6" class="border-separator">nothing exact</td>
              <% else %>
                  <td colspan="3" class="border-separator">nothing exact</td>
              <% end %>
          <% else %>
              <% if details == "yes" %>
                  <%= render partial: "three_field_details", locals: {comp: comp} %>
              <% else %>
                  <%= render partial: "three_fields", locals: {comp: comp} %>
              <% end %>
          <% end %>
      <% end %>
    </tr>
<% end %>